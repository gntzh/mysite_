{% extends 'base/base.html' %}

{% load static %}

{% block title %}博客|{% endblock %}
{% block nav_blog_active %}active{% endblock %}
{% block head %}
<link rel="stylesheet" type="text/css" href="{% static 'blog/blog.css' %}" />
{% endblock %}

{% block body %}
<div class="container">
    <div class="row">
        <!-- 博客列表 -->
        <div class="col-xs-12 col-md-8">
            {% for b in blogs %}
            <div class="z-card">
                <h3 class="text-center">{{ b.title }}</h3>
                <p class="z-card-extra">
                    <i class="fa fa-calendar-o"> 发表于{{ b.created_time|date:"Y-m-d" }} |</i>
                    <i class="fa fa-folder-o"> 分类:{{ b.category }} |</i>
                    <i class="fa fa-user-o"> 作者:{{ b.author }}</i>
                </p>
                <p>{{ b.content }}</p>
                <div style="text-align: center;">
                    <a href="#" class="z-btn">阅读全文 &raquo;</a>
                </div>
            </div>
            {% empty %}
            <h2>--暂无博客!--</h2>
            {% endfor %}
        </div>
        <div class="col-xs-0 col-md-4 ">
            <div class="z-card">
                <i class="fa fa-folder-open fa-lg"> 分类</i>
                <ul class="z-ul">
                {% for c in categories %}
                <li>
                    > {{ c.name }} <span class="badge badge-light">{{ c.blog_num }}</span>
                </li>
                {% empty %}
                <h3>--暂无分类!--</h3>
                {% endfor %}
                </ul>
            </div>
            <div class="z-card">
                <i class="fa fa-archive fa-lg"> 归档</i>
                <ul class="z-ul">
                    {% regroup dates by year as dates_by_year %}
                    {% for mouth in dates_by_year %} 
                    <li> {{ mouth.grouper }}
                    <ul> {% for d in mouth.list %} 
                    <li> {{ d|date:'m月' }} </li> 
                    {% endfor %} 
                    </ul>
                    </li> 
                    {% endfor %} 
                </ul>
            </div>
            <div class="z-card">
                    <div class="widget widget-tag-cloud">
                        <i class="fa fa-tags fa-lg" style="margin-bottom: 0.4em;">标签云</i>
                        <ul>
                            {% for tag in tags %}
                            <li>
                                <a href="#">{{ tag.name }}</a>
                            </li>
                            {% empty %}
                            <h3>--暂无标签!--</h3>
                            {% endfor %}
                        </ul>
                    </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}